@model List<BusinessObject.Models.DTO.OrderDTO>
@using System.Globalization;

@{
    ViewData["Title"] = "History Store";
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Meow & Woof - Pet Care Website</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="Free HTML Templates" name="keywords" />
    <meta content="Free HTML Templates" name="description" />

    <!-- Favicon -->
    <link href="/img/logo.png" rel="icon" />

    <!-- Google Web Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans&family=Nunito:wght@600;700;800&display=swap"
          rel="stylesheet" />

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"
          rel="stylesheet" />

    <!-- Flaticon Font -->
    <link href="/lib/flaticon/font/flaticon.css" rel="stylesheet" />
    <script src="https://kit.fontawesome.com/84e176b008.js"
            crossorigin="anonymous"></script>

    <!-- Libraries Stylesheet -->
    <link href="/lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet" />
    <link href="/lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css"
          rel="stylesheet" />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="/css/common/style.css" rel="stylesheet" />
    <link href="/css/pages/navbar.css" rel="stylesheet" />
    <link href="/css/pages/history.css" rel="stylesheet" />
</head>

<body>
    @Html.Partial("Header")
    <div class="mobile-menu-overlay"></div>

    <div class="main-container">
        <div class="pd-ltr-20 xs-pd-20-10">
            <div class="min-height-200px">
                <!-- TABLE HISTORY Start -->
                <div class="">
                    <div class="row justify-content-center">
                        <div class="col-md-6 text-center mt-5 mb-5">
                            <h2 class="heading-section">History</h2>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="table-wrap">
                                <table class="table table-responsive-xl">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>Ngày đặt hàng</th>
                                            <th>Ngày nhận hàng</th>
                                            <th>Tổng tiền</th>
                                            <th>Phương thức thanh toán</th>
                                            <th>Trạng thái đơn hàng</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var order in Model)
                                        {
                                            <tr class="alert">
                                                <td>1</td>
                                                <td>@order.OrderDate</td>
                                                <td>@order.ShippedDate</td>
                                                @{
                                                    var cultureInfo = new CultureInfo("vi-VN");
                                                    var formattedPrice = string.Format(cultureInfo, "{0:N0} VND", order.Total);
                                                }
                                                <td>@formattedPrice</td>
                                                @if (order.TransactionType == 1)
                                                {
                                                    <td><span>Thanh toán khi nhận hàng</span></td>
                                                }
                                                else if (order.TransactionType == 2)
                                                {
                                                    <td><span>Đã thanh toán bằng VNPay</span></td>
                                                }
                                                else
                                                {
                                                    <td><span>Đã thanh toán bằng PayOS</span></td>
                                                }

                                                @if (order.Status == 1)
                                                {
                                                    <td><span>Đặt hàng thành công</span></td>
                                                }
                                                else if (order.Status == 2)
                                                {
                                                    <td><span>Người bán đang chuẩn bị hàng</span></td>
                                                }
                                                else if (order.Status == 3)
                                                {
                                                    <td><span>Đang trong quá trình vận chuyển</span></td>
                                                }
                                                else if (order.Status == 4)
                                                {
                                                    <td><span>Nhận hàng thành công</span></td>
                                                }
                                                else if (order.Status == 5)
                                                {
                                                    <td><span>Đơn hàng đã bị hủy</span></td>
                                                }
                                                <td><button class="btn btn-success">Chi tiết</button></td>
                                            </tr>
                                        }
                                    </tbody>
                                </table>
                                <!-- PAGINATION -->
                                <div class="demo mt-5">
                                    <nav class="pagination-outer" aria-label="Page navigation">
                                        <ul class="pagination">
                                            <li class="page-item">
                                                <a href="#" class="page-link" aria-label="Previous">
                                                    <span aria-hidden="true">«</span>
                                                </a>
                                            </li>
                                            <li class="page-item">
                                                <a class="page-link" href="#">1</a>
                                            </li>
                                            <li class="page-item">
                                                <a class="page-link" href="#">2</a>
                                            </li>
                                            <li class="page-item active">
                                                <a class="page-link" href="#">3</a>
                                            </li>
                                            <li class="page-item">
                                                <a class="page-link" href="#">4</a>
                                            </li>
                                            <li class="page-item">
                                                <a class="page-link" href="#">5</a>
                                            </li>
                                            <li class="page-item">
                                                <a href="#" class="page-link" aria-label="Next">
                                                    <span aria-hidden="true">»</span>
                                                </a>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                                <!--  -->
                            </div>
                        </div>
                    </div>
                </div>
                <!-- TABLE HISTORY End -->
            </div>
        </div>
    </div>

    @Html.Partial("Footer")

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="/lib/easing/easing.min.js"></script>
    <script src="/lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="/lib/tempusdominus/js/moment.min.js"></script>
    <script src="/lib/tempusdominus/js/moment-timezone.min.js"></script>
    <script src="/lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>

    <!-- Contact Javascript File -->
    <script src="/mail/jqBootstrapValidation.min.js"></script>
    <script src="/mail/contact.js"></script>

    <!-- Template Javascript -->
    <script src="/js/main.js"></script>
</body>
</html>
